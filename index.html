<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover">
  <title>Realidade Aumentada para Educação Musical Infatil</title>

  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.4.0/dist/aframe-extras.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js" integrity="sha512-6+YN/9o9BWrk6wSfGxQGpt3EUK6XeHi6yeHV+TYD2GR0Sj/cggRpXr1BrAQf0as6XslxomMUxXp2vIl+fv0QRA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body style="margin: 0px; overflow: hidden;">
  <a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
    <a-assets>
      <img id="guitarra" src="./assets/guitarra.png" />
      <img id="baixo" src="./assets/baixo.png" />
      <img id="violao" src="./assets/violao.png" />
      <img id="bateria" src="./assets/bateria.png" />
      <img id="microfone" src="./assets/microfone.png" />
    </a-assets>

    <a-marker id="marcador-bateria" type="barcode" value="0">
      <a-image src="#bateria" rotation="-90 0 0" position="0 0 0" />
    </a-marker>

    <a-marker id="marcador-violao" type="barcode" value="1">
      <a-image src="#violao" rotation="-90 0 0" position="0 0 0" />
    </a-marker>

    <a-marker id="marcador-guitarra" type="barcode" value="10">
      <a-image src="#guitarra" rotation="-90 0 0" position="0 0 0" />
    </a-marker>

    <a-marker id="marcador-baixo" type="barcode" value="11">
      <a-image src="#baixo" rotation="-90 0 0" position="0 0 0" />
    </a-marker>

    <a-marker id="marcador-microfone" type="barcode" value="12">
      <a-image src="#microfone" rotation="-90 0 0" position="0 0 0" />
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

  <script>
      let guitarra = new Howl({
        src: ["./audio/guitarra.mp3"]
      });

      let baixo = new Howl({
        src: ["./audio/baixo.mp3"]
      });

      let violao = new Howl({
        src: ["./audio/violao.mp3"]
      });

      let bateria = new Howl({
        src: ["./audio/bateria.mp3"]
      });

      let microfone = new Howl({
        src: ["./audio/microfone.mp3"]
      });

      window.onload = function () {
        let marcadorGuitarra = document.getElementById("marcador-guitarra");
        marcadorGuitarra.addEventListener("markerFound", function () {
          guitarra.play();
        });
        marcadorGuitarra.addEventListener("markerLost", function () {
          guitarra.stop();
        });

        let marcadorBaixo = document.getElementById("marcador-baixo");
        marcadorBaixo.addEventListener("markerFound", function () {
          baixo.play();
        });
        marcadorBaixo.addEventListener("markerLost", function () {
          baixo.stop();
        });

        let marcadorViolao = document.getElementById("marcador-violao");
        marcadorViolao.addEventListener("markerFound", function () {
          violao.play();
        });
        marcadorViolao.addEventListener("markerLost", function () {
          violao.stop();
        });

        let marcadorBateria = document.getElementById("marcador-bateria");
        marcadorBateria.addEventListener("markerFound", function () {
          bateria.play();
        });
        marcadorBateria.addEventListener("markerLost", function () {
          bateria.stop();
        });

        let marcadorMicrofone = document.getElementById("marcador-microfone");
        marcadorMicrofone.addEventListener("markerFound", function () {
          microfone.play();
        });
        marcadorMicrofone.addEventListener("markerLost", function () {
          microfone.stop();
        });
      };
    </script>
</body>

</html>